<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>DiveTracker</title>
  <!-- <link rel="manifest" href="manifest.json"> -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="application-name" content="DiveTracker">
  <meta name="apple-mobile-web-app-title" content="DiveTracker">
  <meta name="msapplication-starturl" content="/index.html">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme-color" content="#000000">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link rel="stylesheet" href="./app.css">
</head>
<body>
<header>
</header>
<main>
  <textarea id="out" style="width:100%" rows="50"></textarea>
</main>
<footer>
</footer>
<script type="module">
const fus = {
    pos: {
        last: {lat: -23.324653, lon: -43.2345}
    }
};

import {diveLogger, trackLogger} from './lib/logger.js'
import {Dive} from './lib/dc.js'
import {GeoPoint, Track} from './lib/geo.js'

let dive = new Dive();
dive.mockTime = 5;
dive.depth = 2;
diveLogger.logSample(dive);
dive.mockTime += 60;
dive.depth = 18;
diveLogger.logSample(dive);
dive.changeMix(.32);
dive.mockTime += 60*20;
dive.depth = 18;
diveLogger.logSample(dive);
dive.mockTime += 60;
dive.depth = 0;
diveLogger.logSample(dive);
dive.mockTime += 60;
diveLogger.logSample(dive);
dive.end();

document.getElementById('out').innerHTML = diveLogger.export();

let track = new Track();
track.pos = new GeoPoint(-23.23555, -46.3245);
trackLogger.logPos(track);
track.pos = new GeoPoint(-23.23565, -46.3255);
trackLogger.logPos(track);
track.pos = new GeoPoint(-23.23575, -46.3265);
trackLogger.logPos(track);
track.pos = new GeoPoint(-23.23585, -46.3275);
trackLogger.logPos(track);
track.pos = new GeoPoint(-23.23595, -46.3285);
trackLogger.logPos(track);
track.pos = new GeoPoint(-23.23505, -46.3295);
trackLogger.logPos(track);
track.pos = new GeoPoint(-23.23515, -46.3205);

document.getElementById('out').innerHTML += trackLogger.export();
</script>
</body>
</html>